@page "/"
@using CartolaLigas.Services
@inject CustomHttpClientProvider httpClient
@inject NavigationManager NavigationManager
@inject LigasService ligasService
@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle>Home</PageTitle>

<h1>Crie sua Liga no Cartola FC</h1>
<h4>Reúna seus amigos, crie ligas épicas e dispute a zueira no Cartola FC!</h4>
<h4>Não fique de fora! <a role="button" class="btn btn-primary" href="/register">Cadastre-se agora</a> e crie sua primeira liga.</h4>
<br />

<h3>Nosso serviço</h3>
<h4>Aqui você comanda! Nossa plataforma te dá o poder de:</h4>
<ul>
    <li>⚽ Criar ligas personalizadas e exclusivas.</li>
    <li>🤝 Convidar seus amigos para a disputa.</li>
    <li>😂 Dominar a zueira quando você der aquela mitada!</li>
</ul>
<h3>Como funciona</h3>
<h4>É simples, rápido e seguro</h4>
<ul>
    <li>📊 Dados públicos direto da API do Cartola FC.</li>
    <li>🔒 Nossa plataforma não utiliza seu login globo ou cartola.</li>
</ul>
<h4>Você pode <a role="button" class="btn btn-primary" href="/teams">pesquisar times</a> sem precisar estar logado</h4>

@code{
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        if (user.Identity != null && user.Identity.IsAuthenticated){
            NavigationManager.NavigateTo("/home");
        }
    }
}
