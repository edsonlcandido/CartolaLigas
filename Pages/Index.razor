@page "/"
@using CartolaLigas.Services
@inject CustomHttpClientProvider httpClient
@inject NavigationManager NavigationManager
@inject LigasService ligasService
@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle>Home</PageTitle>

<h1>Crie sua Liga no Cartola FC</h1>
<h4>ReÃºna seus amigos, crie ligas Ã©picas e dispute a zueira no Cartola FC!</h4>
<h4>NÃ£o fique de fora! <a role="button" class="btn btn-primary" href="/register">Cadastre-se agora</a> e crie sua primeira liga.</h4>
<br />

<h3>Nosso serviÃ§o</h3>
<h4>Aqui vocÃª comanda! Nossa plataforma te dÃ¡ o poder de:</h4>
<ul>
    <li>âš½ Criar ligas personalizadas e exclusivas.</li>
    <li>ğŸ¤ Convidar seus amigos para a disputa.</li>
    <li>ğŸ˜‚ Dominar a zueira quando vocÃª der aquela mitada!</li>
</ul>
<h3>Como funciona</h3>
<h4>Ã‰ simples, rÃ¡pido e seguro</h4>
<ul>
    <li>ğŸ“Š Dados pÃºblicos direto da API do Cartola FC.</li>
    <li>ğŸ”’ Nossa plataforma nÃ£o utiliza seu login globo ou cartola.</li>
</ul>
<h4>VocÃª pode <a role="button" class="btn btn-primary" href="/teams">pesquisar times</a> sem precisar estar logado</h4>

@code{
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        if (user.Identity != null && user.Identity.IsAuthenticated){
            NavigationManager.NavigateTo("/home");
        }
    }
}
